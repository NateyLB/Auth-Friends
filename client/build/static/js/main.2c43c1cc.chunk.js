(this["webpackJsonpauth-friends"]=this["webpackJsonpauth-friends"]||[]).push([[0],{31:function(e,t,a){e.exports=a(60)},36:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(27),c=a.n(r),l=(a(36),a(9)),s=a(10),i=function(e){return o.a.createElement("div",null,o.a.createElement("h1",null,"Welcome to Auth Friends"),o.a.createElement(l.b,{to:"/login"},o.a.createElement("button",null,"Log In!")))},m=a(8),u=a(11),p=a(5),b=a(14),d=a.n(b),h=function(){var e=JSON.parse(localStorage.getItem("token"));return d.a.create({headers:{Authorization:e},baseURL:""})},g=function(e){var t=Object(n.useState)({username:"",password:""}),a=Object(p.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(!0),s=Object(p.a)(l,2),i=s[0],b=s[1],d=function(e){c(Object(u.a)({},r,Object(m.a)({},e.target.name,e.target.value))),r.username.length>0&&r.password.length>0&&b(!1)};return o.a.createElement("div",null,o.a.createElement("h3",null,"Login"),o.a.createElement("form",{className:"form",onSubmit:function(t){t.preventDefault(),h().post("/api/login",r).then((function(t){localStorage.setItem("token",JSON.stringify(t.data.payload)),e.history.push("/protected")})).catch((function(e){return console.log({err:e})}))}},o.a.createElement("label",{htmlFor:"username"},"Username:",o.a.createElement("input",{name:"username",type:"text",onChange:d})),o.a.createElement("label",{htmlFor:"password"},"Password:",o.a.createElement("input",{name:"password",type:"password",onChange:d})),o.a.createElement("input",{disabled:i,className:"submit",name:"submit",type:"submit"})))},E=a(30),f=function(e){var t=e.component,a=Object(E.a)(e,["component"]);return o.a.createElement(s.b,Object.assign({},a,{render:function(e){return localStorage.getItem("token")?o.a.createElement(t,e):o.a.createElement(s.a,{to:"/login"})}}))},O=function(e){var t=Object(n.useState)([]),a=Object(p.a)(t,2),o=(a[0],a[1]),r=Object(n.useState)(),c=Object(p.a)(r,2),l=c[0],s=c[1],i=Object(n.useState)({id:l,name:"",age:"",email:""}),m=Object(p.a)(i,2),u=(m[0],m[1],Object(n.useState)(!0)),b=Object(p.a)(u,2);b[0],b[1];Object(n.useEffect)((function(){h().get("/api/friends").then((function(e){o(e.data),s(e.data.length+1)})).catch((function(e){return console.log({err:e})}))}),[])};a(59);var v=function(){return o.a.createElement(l.a,null,o.a.createElement("div",{className:"App"},o.a.createElement("nav",{className:"Nav"},o.a.createElement("ul",{className:"NavList"},o.a.createElement("li",null,o.a.createElement(l.b,{to:"/login"},"Login")),o.a.createElement("li",null,o.a.createElement(l.b,{to:"/protected"},"Protected Page")),o.a.createElement("li",null,o.a.createElement(l.b,{to:"/"},"Home")))),o.a.createElement(s.b,{exact:!0,path:"/",component:i}),o.a.createElement(s.b,{path:"/login",component:g}),o.a.createElement(f,{exact:!0,path:"/protected",component:O})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.2c43c1cc.chunk.js.map