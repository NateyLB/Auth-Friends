{"ast":null,"code":"import _defineProperty from\"/Users/Nate/Desktop/LambdaSchoolWork/Projects/Auth-Friends/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/Nate/Desktop/LambdaSchoolWork/Projects/Auth-Friends/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/Nate/Desktop/LambdaSchoolWork/Projects/Auth-Friends/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import axios from'axios';import{axiosWithAuth}from'../utils/axiosWithAuth.js';var Login=function Login(props){var _useState=useState({username:'',password:''}),_useState2=_slicedToArray(_useState,2),login=_useState2[0],setLogin=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),buttonEnable=_useState4[0],setButtonEnable=_useState4[1];var handleChange=function handleChange(event){setLogin(_objectSpread({},login,_defineProperty({},event.target.name,event.target.value)));if(login.username.length>0&&login.password.length>0){setButtonEnable(false);}};var submitLogin=function submitLogin(event){event.preventDefault();axiosWithAuth().post('/api/login',login).then(function(res){localStorage.setItem('token',JSON.stringify(res.data.payload));props.history.push('/protected');}).catch(function(err){return console.log({err:err});});};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"Login\"),/*#__PURE__*/React.createElement(\"form\",{className:\"form\",onSubmit:submitLogin},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"username\"},\"Username:\",/*#__PURE__*/React.createElement(\"input\",{name:\"username\",type:\"text\",onChange:handleChange})),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password:\",/*#__PURE__*/React.createElement(\"input\",{name:\"password\",type:\"password\",onChange:handleChange})),/*#__PURE__*/React.createElement(\"input\",{disabled:buttonEnable,className:\"submit\",name:\"submit\",type:\"submit\"})));};export default Login;","map":{"version":3,"sources":["/Users/Nate/Desktop/LambdaSchoolWork/Projects/Auth-Friends/client/src/components/Login.js"],"names":["React","useState","axios","axiosWithAuth","Login","props","username","password","login","setLogin","buttonEnable","setButtonEnable","handleChange","event","target","name","value","length","submitLogin","preventDefault","post","then","res","localStorage","setItem","JSON","stringify","data","payload","history","push","catch","err","console","log"],"mappings":"6bAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,OAASC,aAAT,KAA8B,2BAA9B,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,KAAD,CAAW,eAGKJ,QAAQ,CAAC,CAAEK,QAAQ,CAAE,EAAZ,CAAgBC,QAAQ,CAAE,EAA1B,CAAD,CAHb,wCAGdC,KAHc,eAGPC,QAHO,8BAImBR,QAAQ,CAAC,IAAD,CAJ3B,yCAIdS,YAJc,eAIAC,eAJA,eAMrB,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,KAAK,CAAI,CAC1BJ,QAAQ,kBAAMD,KAAN,oBAAcK,KAAK,CAACC,MAAN,CAAaC,IAA3B,CAAkCF,KAAK,CAACC,MAAN,CAAaE,KAA/C,GAAR,CACA,GAAIR,KAAK,CAACF,QAAN,CAAeW,MAAf,CAAsB,CAAtB,EAA2BT,KAAK,CAACD,QAAN,CAAeU,MAAf,CAAsB,CAArD,CAAwD,CACpDN,eAAe,CAAC,KAAD,CAAf,CAAuB,CAC9B,CAJD,CAQA,GAAMO,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAAAL,KAAK,CAAI,CACzBA,KAAK,CAACM,cAAN,GACAhB,aAAa,GACRiB,IADL,CACU,YADV,CACwBZ,KADxB,EAEKa,IAFL,CAEU,SAAAC,GAAG,CAAI,CACTC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BC,IAAI,CAACC,SAAL,CAAeJ,GAAG,CAACK,IAAJ,CAASC,OAAxB,CAA9B,EACDvB,KAAK,CAACwB,OAAN,CAAcC,IAAd,CAAmB,YAAnB,EACF,CALL,EAMKC,KANL,CAMW,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAY,CAAEF,GAAG,CAAHA,GAAF,CAAZ,CAAJ,EANd,EAQH,CAVD,CAYA,mBACI,4CACI,sCADJ,cAEI,4BAAM,SAAS,CAAC,MAAhB,CAAuB,QAAQ,CAAEd,WAAjC,eACI,6BAAO,OAAO,CAAC,UAAf,2BAEA,6BAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,MAA5B,CAAmC,QAAQ,CAAEN,YAA7C,EAFA,CADJ,cAKI,6BAAO,OAAO,CAAC,UAAf,2BAEA,6BAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,UAA5B,CAAuC,QAAQ,CAAEA,YAAjD,EAFA,CALJ,cASI,6BAAO,QAAQ,CAAEF,YAAjB,CAA+B,SAAS,CAAC,QAAzC,CAAkD,IAAI,CAAC,QAAvD,CAAgE,IAAI,CAAC,QAArE,EATJ,CAFJ,CADJ,CAgBH,CA1CD,CA4CA,cAAeN,CAAAA,KAAf","sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nimport { axiosWithAuth } from '../utils/axiosWithAuth.js'\n\nconst Login = (props) => {\n\n\n    const [login, setLogin] = useState({ username: '', password: '' })\n    const [buttonEnable, setButtonEnable] = useState(true)\n   \n    const handleChange = event => {\n        setLogin({ ...login, [event.target.name]: event.target.value })\n        if( login.username.length>0 && login.password.length>0 ){\n            setButtonEnable(false)}\n    };\n\n    \n\n    const submitLogin = event => {\n        event.preventDefault();\n        axiosWithAuth()\n            .post('/api/login', login)\n            .then(res => {\n                localStorage.setItem('token', JSON.stringify(res.data.payload));\n               props.history.push('/protected');\n            })\n            .catch(err => console.log({ err }));\n\n    }\n\n    return (\n        <div>\n            <h3>Login</h3>\n            <form className='form' onSubmit={submitLogin}>\n                <label htmlFor=\"username\">\n                    Username:\n                <input name='username' type=\"text\" onChange={handleChange} />\n                </label>\n                <label htmlFor=\"password\">\n                    Password:\n                <input name='password' type=\"password\" onChange={handleChange} />\n                </label>\n                <input disabled={buttonEnable} className='submit' name='submit' type='submit' />\n            </form>\n        </div>\n    )\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}