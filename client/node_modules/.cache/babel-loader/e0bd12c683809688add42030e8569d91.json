{"ast":null,"code":"import _defineProperty from\"/Users/Nate/Desktop/LambdaSchoolWork/Projects/Auth-Friends/auth-friends/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/Nate/Desktop/LambdaSchoolWork/Projects/Auth-Friends/auth-friends/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/Nate/Desktop/LambdaSchoolWork/Projects/Auth-Friends/auth-friends/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{axiosWithAuth}from'../utils/axiosWithAuth.js';import Friend from'./Friend.js';var Friends=function Friends(props){//state for friends, get data from API\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),friends=_useState2[0],setFriends=_useState2[1];//state for id for addFriend\nvar _useState3=useState(),_useState4=_slicedToArray(_useState3,2),id=_useState4[0],setId=_useState4[1];//state for form to add a friend\nvar _useState5=useState({id:id,name:'',age:'',email:''}),_useState6=_slicedToArray(_useState5,2),addFriend=_useState6[0],setAddFriend=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),buttonEnable=_useState8[0],setButtonEnable=_useState8[1];//get data on render\nuseEffect(function(){axiosWithAuth().get('/api/friends').then(function(res){setFriends(res.data);setId(res.data.length+1);}).catch(function(err){return console.log({err:err});});},[friends]);var handleChange=function handleChange(event){setAddFriend(_objectSpread({},addFriend,_defineProperty({},event.target.name,event.target.value)));if(addFriend.name.length>0&&addFriend.age.length>0&&addFriend.email.length>0){setButtonEnable(false);}};var deleteFriend=function deleteFriend(id){axiosWithAuth().delete(\"/api/friends/\".concat(id)).then(function(res){return console.log(res);}).catch(function(err){return console.log(err);});};var makeFriendsCards=function makeFriendsCards(){return friends.map(function(element){return/*#__PURE__*/React.createElement(Friend,{friend:element,deleteFriend:deleteFriend,key:element.id});});};var submitFriend=function submitFriend(event){event.preventDefault();axiosWithAuth().post('/api/friends',addFriend).then(function(res){return console.log(res);}).catch(function(err){return console.log(err);});};return/*#__PURE__*/React.createElement(\"div\",{className:\"friends-container\"},makeFriendsCards(),/*#__PURE__*/React.createElement(\"h3\",null,\"Add a Friend\"),/*#__PURE__*/React.createElement(\"form\",{className:\"form\",onSubmit:submitFriend},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\"},\"Name:\",/*#__PURE__*/React.createElement(\"input\",{name:\"name\",type:\"text\",onChange:handleChange})),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"age\"},\"Age:\",/*#__PURE__*/React.createElement(\"input\",{name:\"age\",type:\"text\",onChange:handleChange})),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\"},\"Email:\",/*#__PURE__*/React.createElement(\"input\",{name:\"email\",type:\"email\",onChange:handleChange})),/*#__PURE__*/React.createElement(\"input\",{disabled:buttonEnable,className:\"submit-friend-button\",name:\"submit\",type:\"submit\"})));};export default Friends;","map":{"version":3,"sources":["/Users/Nate/Desktop/LambdaSchoolWork/Projects/Auth-Friends/auth-friends/src/components/Friends.js"],"names":["React","useState","useEffect","axiosWithAuth","Friend","Friends","props","friends","setFriends","id","setId","name","age","email","addFriend","setAddFriend","buttonEnable","setButtonEnable","get","then","res","data","length","catch","err","console","log","handleChange","event","target","value","deleteFriend","delete","makeFriendsCards","map","element","submitFriend","preventDefault","post"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { axiosWithAuth } from '../utils/axiosWithAuth.js'\n\nimport Friend from './Friend.js';\n\nconst Friends = props =>{\n    //state for friends, get data from API\n    const [friends, setFriends] = useState([])\n    //state for id for addFriend\n    const [id, setId] = useState()\n    //state for form to add a friend\n    const [addFriend, setAddFriend] = useState({id:id, name:'', age:'', email:''});\n    const [buttonEnable, setButtonEnable] = useState(true)\n    //get data on render\n    useEffect(()=>{\n        axiosWithAuth()\n        .get('/api/friends')\n        .then(res => {\n            setFriends(res.data)\n            setId(res.data.length+1)\n        })\n        .catch(err => console.log({ err }));\n    },[friends])\n    \n     const handleChange = event => {\n        setAddFriend({ ...addFriend, [event.target.name]: event.target.value })\n        if( addFriend.name.length>0 && addFriend.age.length>0 && addFriend.email.length>0 ){\n            setButtonEnable(false)}\n    };\n    const deleteFriend = id =>{\n        axiosWithAuth()\n        .delete(`/api/friends/${id}`)\n        .then(res => console.log(res))\n        .catch(err => console.log(err))\n    }\n\n    const makeFriendsCards = ()=>{\n       return friends.map(element => <Friend friend={element} deleteFriend={deleteFriend} key={element.id}/>)\n    }\n\n    const submitFriend = event =>{\n        event.preventDefault()\n        axiosWithAuth()\n        .post('/api/friends', addFriend)\n        .then(res => console.log(res))\n        .catch(err => console.log(err))\n    }\n\n    return(\n        <div className='friends-container'>\n            {makeFriendsCards()}\n            <h3>Add a Friend</h3>\n            <form className='form' onSubmit={submitFriend}>\n                <label htmlFor=\"name\">\n                    Name:\n                <input name='name' type=\"text\" onChange={handleChange} />\n                </label>\n                <label htmlFor=\"age\">\n                    Age:\n                <input name='age' type=\"text\" onChange={handleChange} />\n                </label>\n                <label htmlFor=\"name\">\n                    Email:\n                <input name='email' type=\"email\" onChange={handleChange} />\n                </label>\n                <input disabled={buttonEnable} className='submit-friend-button' name='submit' type='submit' />\n\n            </form>\n        </div>\n    )\n}\n\nexport default Friends;"]},"metadata":{},"sourceType":"module"}